<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chatbot PWA</title>

  <!-- Manifesto do PWA -->
  <link rel="manifest" href="manifest.json">

  <!-- Ícone do app (opcional) -->
  <link rel="icon" href="icon.png">

  <!-- Freshchat Script -->
  <script src='//fw-cdn.com/11855826/4444188.js' chat='true'> </script>
  <script>
    window.fcWidget.init({
      token: "SEU_TOKEN_DO_BOT",
      host: "https://wchat.freshchat.com"
    });
  </script>
  
	<script>
	  let deferredPrompt;

	  window.addEventListener('beforeinstallprompt', (e) => {
		e.preventDefault();
		deferredPrompt = e;

		const installBtn = document.createElement('button');
		installBtn.innerText = 'Instalar App';
		installBtn.style.position = 'fixed';
		installBtn.style.bottom = '20px';
		installBtn.style.right = '20px';
		document.body.appendChild(installBtn);

		installBtn.addEventListener('click', () => {
		  deferredPrompt.prompt();
		});
	  });
	</script>
  
</head>
<body>  
  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => console.log('Service Worker registrado!', reg))
        .catch(err => console.error('Erro no Service Worker:', err));
    }
  </script>
</body>
</html>
